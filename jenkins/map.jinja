{% set jenkins = salt['grains.filter_by']({
    'default': {
        'pkgs': ['jenkins'],
        'deb_apt_source': '/etc/apt/sources.list.d/jenkins-ci.list',
        'netcat_pkg': 'netcat-openbsd',
        'user': 'jenkins',
        'group': 'jenkins',
        'nginx_user': 'www-data',
        'nginx_group': 'www-data',
        'home': '/var/lib/jenkins',
        'port': '80',
        'jenkins_port': 8080,
        'server_name': None,
        'cli_path': '/var/cache/jenkins/jenkins-cli.jar',
        'master_url': 'http://{{ salt.cmd.run('/sbin/ifconfig eth0 | grep 'inet addr:' | cut -d: -f2 | awk '{ print $1}'') }}:8080',
        'plugins': {
            'updates_source': 'http://updates.jenkins-ci.org/update-center.json',
            'installed': [],
            'disabled': [],
        },
        'jobs': {
            'installed': {},
            'absent': []
        }
    },
}, merge=salt['pillar.get']('jenkins:lookup')) %}
